<!DOCTYPE html>

<!--
  Google HTML5 slide template

  Authors: Luke Mahé (code)
           Marcin Wichary (code and design)
           
           Dominic Mazzoni (browser compatibility)
           Charles Chen (ChromeVox support)

  URL: http://code.google.com/p/html5slides/
-->

<html>
  <head>
    <title>Go Language</title>

    <meta charset='utf-8'>
    <script src='slides/slides.js'></script>
    <link href="slides/slides.css" rel="stylesheet" type="text/css"/>

    <script src="prettify/prettify.js"></script>
    <link href="prettify/sons-of-obsidian.css" type="text/css" rel="stylesheet" />
  </head>
  
  <style>
    /* Your individual styles here, or just use inline styles if that’s
       what you want. */
    
    
  </style>

  <body style='display: none' onload="prettyPrint()">

    <section class='slides layout-faux-widescreen template-golang'>
      
      <!-- Your slides (<article>s) go here. Delete or comment out the
           slides below. -->
      
      <article class='biglogo'>
      </article>

      <article>
        <h1>
          Concurrency 
          <br>
        </h1>
      </article>

      <article class='smaller'>
        <h3>
        Main concepts: Goroutines
        </h3>
        <ul>
          <li>
            A method executing concurrently in the same address space.
          </li>
          <li>
			Multiplexed onto OS threads (M:N model).
		  </li>
          <li>
            Natively supported by the language.
          </li>
          <li>
            Just prefix a function invocation with the go keyword. 
          </li>
        </ul>
        <pre class="prettyprint">
<code>
  go func() { fmt.Print("Hello Concurrent World!") } ()
</code>
        </pre>
        
      </article>

      <article class='smaller' style='
    padding-left: 10px;
    padding-right: 10px;
    padding-top: 10px;
    padding-bottom: 10px;'>
        <h3>
        An example - A simple Netcat-like tool
        </h3>
        <table style='margin-top: 10px;' class='build'>
          <tr>
            <td style="border: 0">
              <pre class="prettyprint" style='margin-top: 0px; margin-bottom: 0px;'>
<code>
func main() {
	if len(os.Args) != 2 {
		fmt.Printf("Usage: %s &lturl&gt:&ltport&gt\n", os.Args[0])
		os.Exit(-1)
	}
	url := os.Args[1]
	
	var urlAddress *net.TCPAddr
	var urlConn *net.TCPConn
	var err error

	if urlAddress, err = net.ResolveTCPAddr("tcp4", url); err != nil {
		fmt.Printf("Error resolving URL address: %s\n", url)
		os.Exit(-1)
	}

	if urlConn, err = net.DialTCP("tcp", nil, urlAddress); err != nil {
		fmt.Printf("Error connecting to URL: %s\n", urlAddress)
		os.Exit(-1)
	}
	go monkey(os.Stdin, urlConn, 1024)
	monkey(bufio.NewReader(urlConn), os.Stdout, 1024)
}
</code>
        </pre>
             </td>
            <td style="border: 0">
              <ul>
                <li>
                  A method executing concurrently in the same address space.
                </li>
                <li>
			      Multiplexed onto OS threads (M:N model).
		        </li>
                <li>
                  Natively supported by the language.
                </li>
                <li>
                  Just prefix a function invocation with the go keyword. 
                </li>
              </ul>
            </td>
          </tr>
        </table>       
      </article>

      <article class='smaller'>
        <h3>
        Main concepts: Goroutines
        </h3>
        <p>
        The writer function just moves chunks of data from reader into a writer
        </p>
        <pre class="prettyprint">
<code>
func monkey(r io.Reader, to io.Writer, bufSize int) {
  b := make([]byte, bufSize)
  for {
    n, err := r.Read(b)
    if err != nil {
      return
    }
    if n > 0 {
      to.Write(b[0:n])
    }
  }
}
</code>
        </pre>
        
      </article>

      <article class='smaller'>
        <h3>
        Communication
        </h3>
        <ul class="build">
          <li>
			Goroutines are not quite useful if they can't communicate with each other.
          </li>
          <li>
			But communicating by sharing memory has a lot of well-known drawbacks.
		    <ul class="build">
		    <li>
		    Lock based solutions don't compose.		  
		    </li>
		    <li>
		    Deadlock prone.
		    </li>
		    <li>
		    Hard to reason.
		    </li>
		    </ul>
		  </li>
          <li>
			"Do not communicate by sharing memory; instead, share memory by communicating."
          </li>
          <li>
            Go channels to the rescue! 
          </li>
        </ul>
      </article>

      <article class='smaller'>
        <h3>
        Channels
        </h3>
        <ul class="build">
          <li>
			Inspired on Tony Hoare's ideas of concurrency in CSP.
		    <ul class="build">
		    <li>
			Rendezvous model.
		    </li>
		    <li>
		    But support both syncronous/asynchronous message passing.
		    </li>
		    <li>
			They are not tied to a goroutine like in the actor model.		    
			</li>
		    </ul>
		  </li>
          <li>
			Two main use cases: 
			<ul class="build">
		    <li>
			Communication.
		    </li>
		    <li>
			Coordination.
			</li>
			</ul>
          </li>
        </ul>
      </article>

      <article class='smaller'>
        <h3>
        Channels
        </h3>
        <ul class="build">
          <li>
          	Channels are reference types, so they are created using make (instead of new) 
        <pre class="prettyprint" style="margin-top: 10px; margin-bottom: 10px;">
<code>
  myChannel := make(chan string)
  bufferedChannel := make(chan string, 1024)                
</code>
        </pre>
		  </li>
          <li>
			Some constraints can be added to restrict the usage of a channel 
          <pre class="prettyprint" style="margin-top: 10px; margin-bottom: 10px;">
<code>
  receiverChannel := make(chan<- string)
  senderChannel := make(<-chan string)
</code>
        </pre>
		  </li>
          <li>
    	    Two operators for send/receive   
          <pre class="prettyprint" style="margin-top: 10px; margin-bottom: 10px;">
<code>
  myChannel <- "This is a message" //Sends a message
  msg := <- myChannel // Receives the message
  msg, ok := <- myChannel // ok is true while the channel is open
</code>
        </pre>
        </li>
        </ul>
      </article>

      <article class='smaller'>
        <h3>
        Channels
        </h3>
        <ul class="build">
          <li>
    		Channels can be closed to indicate that there are no more messages.
        <pre class="prettyprint" >
<code>
    receiverChannel := make(chan<- string)
    close(receiverChannel)
</code>
        </pre>
		  </li>
          <li>
			A client can pull for messages until the channel is closed.
          <pre class="prettyprint" >
<code>
  for msg := range(senderChannel) {
      fmt.Print(msg)
  }
</code>
        </pre>
		  </li>
        </ul>
      </article>

      <article class='smaller'>
        <h3>
        Channels
        </h3>
		<p>
			Reading from multiple channels: Select
		</p>
		<ul class='build'>
		<li>
		    A "select" statement chooses which of a set of possible communications will proceed.
		</li>
		<li>
		    It looks similar to a "switch" statement but with the cases all referring to communication operations. 
		</li>
		</ul>
        <table style="margin-top: 0px;">
        <tr>
          <td style="border: 0px" class="build">
            <pre class="prettyprint" style="margin-top: 0px;">
<code>
select {
  case i1 := <-c1:
	print("received ", i1, " from c1\n")
  case c2 <- 1:
	print("sent 1 to c2\n")
case i3, ok := (<-c3):  // same as: i3, ok := <-c3
	if ok {
		print("received ", i3, " from c3\n")
	} else {
		print("c3 is closed\n")
	}
default:
	print("no communication\n")
}</code>
            </pre>
          </td>
          <td style="border: 0px">
            <ul class="build">
            <li>
            All the channel expressions are evaluated.
            </li>
            <li>
            One channel expression per case statement 
            </li>
            <li>
            Send and receive expressions are allowed.
            </li>
            <li>
            If all the channels expression will block, default wins.  
            </li>
            <li>
            Can be used for non-blocking reads.
            </li>
            </ul>
          </td>
        </tr>        
        </table>
      </article>

      <article class="smaller">
        <h3>
        Channels: Some idioms
        </h3>
        <ul class="build">
        <li>
        <p>
          Generators à la Python
        </p>
        <p>
          Basically, a generator is a function that returns a channel. The client can iterate over
          that channel.
        </p>
          <pre class="prettyprint" style="margin-top: 0px;">
<code>
func to(n int) (c chan int) {
  c = make(chan int)
  go func() {
    defer close(c)
    for i := 0; i &lt n; i++ {
      c &lt- i // yield a new value
    }
  }()
  return
}

func main() {
  for i := range(to(42)) {
    fmt.Print(i)
  }
}
</code>
        </li>
        </ul>
      </article>

      <article class='smaller'>
        <h3 class='build'>
	  Some thoughts on concurrency and parallelism
        </h3>
	  <ul class='build'>
	  <li>
		  Concurrency is not parallelism
	  </li>
	  <li>
	      Concurrency is about the composition of independently executing processes. Make happens-before relation a little less restrictive.
	  </li>
	  <li>
	      Parallelism is about doing lots of things at once. 
	  </li>
	  <li>
	      Concurrency is useful to design some kind of problems (e.g: our netcat example)
	    </li>
	  <li>
	      Concurrency enables parallelism.
	    </li>
	  </ul>
      </article>

      
      <article>
        <h1>
          A tour of Go 
          <br>
          <br>
        </h1>
        <p>
          A birds of a feather talk
          <br>
        </p>
        <div class='source'>
          Rafael Darder - Rodolfo Granata - Julian Gutierrez
        </div>
      </article>
      
      <article>
        <p>
          This is a slide with just text. This is a slide with just text.
          This is a slide with just text. This is a slide with just text.
          This is a slide with just text. This is a slide with just text.
        </p>
        <p>
          There is more text just underneath.
        </p>
      </article>

      <article>
        <h3>
          Simple slide with header and text
        </h3>
        <p>
          This is a slide with just text. This is a slide with just text.
          This is a slide with just text. This is a slide with just text.
          This is a slide with just text. This is a slide with just text.
        </p>
        <p>
          There is more text just underneath with a <code>code sample: 5px</code>.
        </p>
      </article>

      <article class='smaller'>
        <h3>
          Simple slide with header and text (small font)
        </h3>
        <p>
          This is a slide with just text. This is a slide with just text.
          This is a slide with just text. This is a slide with just text.
          This is a slide with just text. This is a slide with just text.
        </p>
        <p>
          There is more text just underneath with a <code>code sample: 5px</code>.
        </p>
      </article>

      <article>
        <h3>
          Slide with bullet points and a longer title, just because we
          can make it longer
        </h3>
        <ul>
          <li>
            Use this template to create your presentation
          </li>
          <li>
            Use the provided color palette, box and arrow graphics, and
            chart styles
          </li>
          <li>
            Instructions are provided to assist you in using this
            presentation template effectively
          </li>
          <li>
            At all times strive to maintain Google's corporate look and feel
          </li>
        </ul>
      </article>

      <article>
        <h3>
          Slide with bullet points that builds
        </h3>
        <ul class="build">
          <li>
            This is an example of a list
          </li>
          <li>
            The list items fade in
          </li>
          <li>
            Last one!
          </li>
        </ul>

        <div class="build">
          <p>Any element with child nodes can build.</p>
          <p>It doesn't have to be a list.</p>
        </div>
      </article>

      <article class='smaller'>
        <h3>
          Slide with bullet points (small font)
        </h3>
        <ul>
          <li>
            Use this template to create your presentation
          <li>
            Use the provided color palette, box and arrow graphics, and
            chart styles
          <li>
            Instructions are provided to assist you in using this
            presentation template effectively
          <li>
            At all times strive to maintain Google's corporate look and feel
        </ul>
      </article>

      <article>
        <h3>
          Slide with a table
        </h3>
        
        <table>
          <tr>
            <th>
              Name
            <th>
              Occupation
          <tr>
            <td>
              Luke Mahé
            <td>
              V.P. of Keepin’ It Real
          <tr>
            <td>
              Marcin Wichary
            <td>
              The Michael Bay of Doodles
        </table>
      </article>
      
      <article class='smaller'>
        <h3>
          Slide with a table (smaller text)
        </h3>
        
        <table>
          <tr>
            <th>
              Name
            <th>
              Occupation
          <tr>
            <td>
              Luke Mahé
            <td>
              V.P. of Keepin’ It Real
          <tr>
            <td>
              Marcin Wichary
            <td>
              The Michael Bay of Doodles
        </table>
      </article>
      
      <article>
        <h3>
          Styles
        </h3>
        <ul>
          <li>
            <span class='red'>class="red"</span>
          <li>
            <span class='blue'>class="blue"</span>
          <li>
            <span class='green'>class="green"</span>
          <li>
            <span class='yellow'>class="yellow"</span>
          <li>
            <span class='black'>class="black"</span>
          <li>
            <span class='white'>class="white"</span>
          <li>
            <b>bold</b> and <i>italic</i>
        </ul>
      </article>
      
      <article>
        <h2>
          Segue slide
        </h2>
      </article>

      <article>
        <h3>
          Slide with an image
        </h3>
        <p>
          <img style='height: 500px' src='images/example-graph.png'>
        </p>
        <div class='source'>
          Source: Sergey Brin
        </div>
      </article>

      <article>
        <h3>
          Slide with an image (centered)
        </h3>
        <p>
          <img class='centered' style='height: 500px' src='images/example-graph.png'>
        </p>
        <div class='source'>
          Source: Larry Page
        </div>
      </article>

      <article class='fill'>
        <h3>
          Image filling the slide (with optional header)
        </h3>
        <p>
          <img src='images/example-cat.jpg'>
        </p>
        <div class='source white'>
          Source: Eric Schmidt
        </div>
      </article>

      <article>
        <h3>
          This slide has some code
        </h3>
        <section>
        <pre class="prettyprint">
<code>
&lt;script type='text/javascript'&gt;
  // Say hello world until the user starts questioning
  // the meaningfulness of their existence.
  function helloWorld(world) {
    for (var i = 42; --i &gt;= 0;) {
      alert('Hello ' + String(world));
    }
  }
&lt;/script&gt;
&lt;style&gt;
  p { color: pink }
  b { color: blue }
  u { color: 'umber' }
&lt;/style&gt;
</code>
</pre>
        </section>
      </article>
      
      <article class='smaller'>
        <h3>
          This slide has some code (small font)
        </h3>
        <section>
        <pre>
&lt;script type='text/javascript'&gt;
  // Say hello world until the user starts questioning
  // the meaningfulness of their existence.
  function helloWorld(world) {
    for (var i = 42; --i &gt;= 0;) {
      alert('Hello ' + String(world));
    }
  }
&lt;/script&gt;
&lt;style&gt;
  p { color: pink }
  b { color: blue }
  u { color: 'umber' }
&lt;/style&gt;
</pre>
        </section>
      </article>
      
      <article>
        <q>
          The best way to predict the future is to invent it.
        </q>
        <div class='author'>
          Alan Kay
        </div>
      </article>
      
      <article class='smaller'>
        <q>
          A distributed system is one in which the failure of a computer 
          you didn’t even know existed can render your own computer unusable.
        </q>
        <div class='author'>
          Leslie Lamport
        </div>
      </article>
      
      <article class='nobackground'>
        <h3>
          A slide with an embed + title
        </h3>
        
      </article>

      <article class='nobackground'>
      </article>

      <article class='fill'>
        <h3>
          Full-slide embed with (optional) slide title on top
        </h3>
      </article>
      
      <article>
        <h3>
          Thank you!
        </h3>
        
        <ul>
          <li>
            <a href='http://www.google.com'>google.com</a>
        </ul>
      </article>



    </section>


  </body>
</html>
